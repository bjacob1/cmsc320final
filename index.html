<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>9d9689e5d92545eb98a3124977bf4249</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      word-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="cell markdown" id="M4yq7rrz3D5_">
<p>In the NFL, the quarterback is the most important position on the field. The quarterback is responsible for leading the offense and making important decisions that can have a significant impact on the outcome of a game. In the NFL, where the margins between winning and losing are often slim, the ability of a quarterback to perform at a high level can be the difference between a successful season and a disappointing one.</p>
<p>One of the key ways to evaluate quarterback play is through statistical analysis. This can include metrics such as passer rating, yards per attempt, touchdown-to-interception ratio, and completion percentage, among others. These statistics can provide valuable insights into a quarterback's performance and can help to identify strengths and weaknesses. For our project, we are focusing on the evaluation of quarterback play in the NFL. Our goal is to plot each NFL quarterback on a chart that allows us to easily evaluate how they stack up to their peers in important metrics in a visual way. Another insight we want to gain is if there is any correlation between the age of a quarterback and their value to their team.</p>
</div>
<div class="cell code" id="CkUAuH0BNZ48">
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> matplotlib.ticker <span class="im">import</span> FixedLocator</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> math <span class="im">import</span> pi</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> r2_score</span></code></pre></div>
</div>
<div class="cell markdown" id="-NfSBEoz3HtR">
<p>Data Collection, Curating, Management, Representation</p>
<p>The first step is the data collection process, in which we gather the data we need for our analysis. In our case we are getting passing and rushing data about NFL players from the Pro Football Reference website, specifically for the 2021 season. We collect this data using the read_html function of Pandas. We store the passing and rushing data separately into passing and rushing Pandas Dataframes.</p>
</div>
<div class="cell code" id="hSmRUKFzSN3y">
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>passing <span class="op">=</span> pd.read_html(<span class="st">&quot;https://www.pro-football-reference.com/years/2021/passing.htm&quot;</span>)[<span class="dv">0</span>]</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>rushing <span class="op">=</span> pd.read_html(<span class="st">&quot;https://www.pro-football-reference.com/years/2021/rushing.htm&quot;</span>)[<span class="dv">0</span>]</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>passing <span class="op">=</span> passing.drop(columns<span class="op">=</span>[<span class="st">&#39;Cmp&#39;</span>, <span class="st">&#39;Yds&#39;</span>, <span class="st">&#39;TD&#39;</span>, <span class="st">&#39;Int&#39;</span>, <span class="st">&#39;Rk&#39;</span>, <span class="st">&#39;Tm&#39;</span>, <span class="st">&#39;Pos&#39;</span>, <span class="st">&#39;G&#39;</span>, <span class="st">&#39;GS&#39;</span>, <span class="st">&#39;QBrec&#39;</span>, <span class="st">&#39;1D&#39;</span>, <span class="st">&#39;Lng&#39;</span>, <span class="st">&#39;Y/G&#39;</span>, <span class="st">&#39;AY/A&#39;</span>, <span class="st">&#39;Rate&#39;</span>, <span class="st">&#39;QBR&#39;</span>, <span class="st">&#39;Sk&#39;</span>, <span class="st">&#39;Yds.1&#39;</span>, <span class="st">&#39;Sk%&#39;</span>, <span class="st">&#39;NY/A&#39;</span>, <span class="st">&#39;ANY/A&#39;</span>, <span class="st">&#39;4QC&#39;</span>, <span class="st">&#39;GWD&#39;</span>])</span></code></pre></div>
</div>
<div class="cell markdown" id="DkLr2cjr3KNx">
<p>The next step in the process is data cleaning, in which we remove irrelevant or faulty data and make sure that it is ready for analysis. Ways we cleaned the data include removing wrongly formatted values and normalizing the data. Also as part of the process we had to handle data management and representation. Ways we handled this include storing data from different sources in a single dataframe, creating our own columns for analysis, and removing irrelevant columns.</p>
<p>The first step in cleaning the data is to iterate through the passing dataframe and format the players’ names. Then, as part of data management and representation, we drop all players with less than 200 pass attempts, which gives us 33 quarterbacks to evaluate.</p>
</div>
<div class="cell code" id="dl9wAnk1aGso">
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, row <span class="kw">in</span> passing.iterrows():</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    name <span class="op">=</span> passing.at[index,<span class="st">&quot;Player&quot;</span>]</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    name1<span class="op">=</span><span class="st">&quot;&quot;</span>.join(ch <span class="cf">for</span> ch <span class="kw">in</span> name <span class="cf">if</span> ch.isalnum() <span class="kw">or</span> ch <span class="op">==</span> <span class="st">&#39; &#39;</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    passing.at[index,<span class="st">&quot;Player&quot;</span>] <span class="op">=</span> name1</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> passing.at[index,<span class="st">&quot;Att&quot;</span>]</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (y <span class="op">==</span> <span class="st">&quot;Att&quot;</span>) <span class="kw">or</span> (<span class="bu">int</span>(y) <span class="op">&lt;</span> <span class="dv">200</span>):</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>      passing <span class="op">=</span> passing.drop([index])</span></code></pre></div>
</div>
<div class="cell markdown" id="2AbBB0jH4X7C">
<p>We then add rushing statistics to our passing dataframe, so we can combine both dataframes into one. For each player in the rushing dataset, we add their rushing data to the entry in the passing dataset that matches their name. This gives us a single dataframe with all of the data we need to evaluate the quarterbacks. We will still need to add and drop some columns, however.</p>
</div>
<div class="cell code" id="_SV6TfJF-QeQ">
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>passing <span class="op">=</span> passing.drop(columns<span class="op">=</span>[<span class="st">&#39;Att&#39;</span>])</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>passing[<span class="st">&#39;RushAtt&#39;</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>passing[<span class="st">&#39;RushYds&#39;</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>passing[<span class="st">&#39;Fum&#39;</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, row <span class="kw">in</span> passing.iterrows(): </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> x, y <span class="kw">in</span> rushing.iterrows():</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>      name <span class="op">=</span> rushing.at[x,(<span class="st">&#39;Unnamed: 1_level_0&#39;</span>, <span class="st">&#39;Player&#39;</span>)]</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>      name1<span class="op">=</span><span class="st">&quot;&quot;</span>.join(ch <span class="cf">for</span> ch <span class="kw">in</span> name <span class="cf">if</span> ch.isalnum() <span class="kw">or</span> ch <span class="op">==</span> <span class="st">&#39; &#39;</span>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>      name <span class="op">=</span> passing.at[index,<span class="st">&quot;Player&quot;</span>]</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> name <span class="op">==</span> name1:</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>        r <span class="op">=</span> rushing.at[x, (            <span class="st">&#39;Rushing&#39;</span>,    <span class="st">&#39;Att&#39;</span>)]</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> r <span class="op">!=</span> <span class="st">&quot;Att&quot;</span>: passing.at[index, <span class="st">&quot;RushAtt&quot;</span>] <span class="op">=</span> r</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>        r <span class="op">=</span> rushing.at[x, (            <span class="st">&#39;Rushing&#39;</span>,    <span class="st">&#39;Yds&#39;</span>)]</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> r <span class="op">!=</span> <span class="st">&quot;Yds&quot;</span>: passing.at[index, <span class="st">&quot;RushYds&quot;</span>] <span class="op">=</span> r</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>        r <span class="op">=</span> rushing.at[x, (<span class="st">&#39;Unnamed: 14_level_0&#39;</span>,    <span class="st">&#39;Fmb&#39;</span>)]</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> r <span class="op">!=</span> <span class="st">&quot;Fmb&quot;</span>: passing.at[index, <span class="st">&quot;Fum&quot;</span>] <span class="op">=</span> r</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span></code></pre></div>
</div>
<div class="cell markdown" id="lkEgjbXo4aSv">
<p>For each entry in the dataframe, we calculate the value for new columns (rushing yards per attempt and fumble per attempt) using the existing columns in the dataframe. We also convert each of the percentage columns to float values, which makes analysis of the data easier. After this, we can drop the columns that we used to calculate the new columns since we do not need them anymore.</p>
</div>
<div class="cell code" id="DCUWxLnRDzBd">
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>passing[<span class="st">&#39;Ryd/A&#39;</span>] <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>passing[<span class="st">&#39;Fum/A&#39;</span>] <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, row <span class="kw">in</span> passing.iterrows():</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  r_att <span class="op">=</span> <span class="bu">int</span>(passing.at[index,<span class="st">&quot;RushAtt&quot;</span>])</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  r_yds <span class="op">=</span> <span class="bu">int</span>(passing.at[index,<span class="st">&quot;RushYds&quot;</span>])</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  r_fum <span class="op">=</span> <span class="bu">int</span>(passing.at[index,<span class="st">&quot;Fum&quot;</span>])</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  passing.at[index, <span class="st">&#39;Ryd/A&#39;</span>] <span class="op">=</span> <span class="bu">round</span>(r_yds<span class="op">/</span>r_att, <span class="dv">1</span>)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  passing.at[index, <span class="st">&#39;Fum/A&#39;</span>] <span class="op">=</span> <span class="bu">round</span>(r_fum<span class="op">/</span>r_att, <span class="dv">1</span>)</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  passing.at[index, <span class="st">&quot;Cmp%&quot;</span>] <span class="op">=</span> <span class="bu">float</span>(passing.at[index, <span class="st">&quot;Cmp%&quot;</span>])</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  passing.at[index, <span class="st">&quot;TD%&quot;</span>] <span class="op">=</span> <span class="bu">float</span>(passing.at[index, <span class="st">&quot;TD%&quot;</span>])</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  passing.at[index, <span class="st">&quot;Int%&quot;</span>] <span class="op">=</span> <span class="bu">float</span>(passing.at[index, <span class="st">&quot;Int%&quot;</span>])</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  passing.at[index, <span class="st">&quot;Y/A&quot;</span>] <span class="op">=</span> <span class="bu">float</span>(passing.at[index, <span class="st">&quot;Y/A&quot;</span>])</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  passing.at[index, <span class="st">&quot;Age&quot;</span>] <span class="op">=</span> <span class="bu">float</span>(passing.at[index, <span class="st">&quot;Age&quot;</span>])</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>passing <span class="op">=</span> passing.drop(columns<span class="op">=</span>[<span class="st">&#39;RushAtt&#39;</span>])</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>passing <span class="op">=</span> passing.drop(columns<span class="op">=</span>[<span class="st">&#39;RushYds&#39;</span>])</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>passing <span class="op">=</span> passing.drop(columns<span class="op">=</span>[<span class="st">&#39;Fum&#39;</span>])</span></code></pre></div>
</div>
<div class="cell markdown" id="A9kwCdyQ4c56">
<p>We have good data for each quarterback to evaluate them, but they are all on different scales. For example, completion percentage may be in the 60’s while quarterback while yards per attempt is in the single digits. We are going to be plotting the quarterbacks on pizza charts, and such different scales for the columns will skew our charts. To fix this issue we have to normalize the columns so that they hold similar values even though they refer to different metrics.</p>
<p>Our approach was to calculate the percentile that each quarterback was in for each metric. This allows us to more easily compare each quarterback to their peers for each metric while also giving the same scale for all the metrics, which helps make the pizza chart more informative.</p>
<p>We create new columns for percentiles for each column, then generate sorted lists for each column. This list allows us to calculate the percentile for any value in a column. We then iterate through the dataframe and for each column’s value, we calculate its percentile in its column using the lists and set the corresponding percentile column. After this we can drop the original columns, as all we need are the percentiles.</p>
<p>Other approaches other than setting percentiles are normalizing the columns so they have the same or similar means. This approach also works for removing skew from the pizza charts. However, we prefer setting to percentiles because it is better at giving us an idea of how each quarterback performs compared to his peers.</p>
<p>For help calculating the percentile for each value we used the following resource: <a href="https://www.thoughtco.com/what-is-a-percentile-3126238#" class="uri">https://www.thoughtco.com/what-is-a-percentile-3126238#</a>:~:text=Percentiles%20can%20be%20calculated%20using,rank%20of%20a%20given%20value.&amp;text=Percentiles%20are%20frequently%20used%20to%20understand%20test%20scores%20and%20biometric%20measurements.</p>
</div>
<div class="cell code" data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="w-4VriTOK7l3" data-outputId="23b12dc1-64f3-4396-e317-bbb31b932f27">
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>passing[<span class="st">&#39;cmp_p&#39;</span>] <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>passing[<span class="st">&#39;td_p&#39;</span>] <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>passing[<span class="st">&#39;int_p&#39;</span>] <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>passing[<span class="st">&#39;y/a_p&#39;</span>] <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>passing[<span class="st">&#39;ryd/a_p&#39;</span>] <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>passing[<span class="st">&#39;fum/a_p&#39;</span>] <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>cmpp <span class="op">=</span> <span class="bu">sorted</span>(passing.loc[:,<span class="st">&quot;Cmp%&quot;</span>].tolist())</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>tdp <span class="op">=</span> <span class="bu">sorted</span>(passing.loc[:, <span class="st">&quot;TD%&quot;</span>].tolist())</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>intp <span class="op">=</span> <span class="bu">sorted</span>(passing.loc[:,<span class="st">&quot;Int%&quot;</span>].tolist())</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>yap <span class="op">=</span> <span class="bu">sorted</span>(passing.loc[:, <span class="st">&quot;Y/A&quot;</span>].tolist())</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>rydap <span class="op">=</span> <span class="bu">sorted</span>(passing.loc[:,<span class="st">&quot;Ryd/A&quot;</span>].tolist())</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>fumap <span class="op">=</span> <span class="bu">sorted</span>(passing.loc[:, <span class="st">&quot;Fum/A&quot;</span>].tolist())</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, row <span class="kw">in</span> passing.iterrows():</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  passing.at[index, <span class="st">&#39;cmp_p&#39;</span>] <span class="op">=</span> <span class="bu">round</span>((((cmpp.index(passing.at[index, <span class="st">&quot;Cmp%&quot;</span>])) <span class="op">+</span> <span class="dv">1</span>)<span class="op">/</span><span class="dv">33</span>)<span class="op">*</span><span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  passing.at[index, <span class="st">&#39;td_p&#39;</span>] <span class="op">=</span> <span class="bu">round</span>((((tdp.index(passing.at[index, <span class="st">&quot;TD%&quot;</span>])) <span class="op">+</span> <span class="dv">1</span>)<span class="op">/</span><span class="dv">33</span>)<span class="op">*</span><span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>  passing.at[index, <span class="st">&#39;int_p&#39;</span>] <span class="op">=</span> <span class="bu">round</span>((((intp.index(passing.at[index, <span class="st">&quot;Int%&quot;</span>])) <span class="op">+</span> <span class="dv">1</span>)<span class="op">/</span><span class="dv">33</span>)<span class="op">*</span><span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>  passing.at[index, <span class="st">&#39;y/a_p&#39;</span>] <span class="op">=</span> <span class="bu">round</span>((((yap.index(passing.at[index, <span class="st">&quot;Y/A&quot;</span>])) <span class="op">+</span> <span class="dv">1</span>)<span class="op">/</span><span class="dv">33</span>)<span class="op">*</span><span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>  passing.at[index, <span class="st">&#39;ryd/a_p&#39;</span>] <span class="op">=</span> <span class="bu">round</span>((((rydap.index(passing.at[index, <span class="st">&quot;Ryd/A&quot;</span>])) <span class="op">+</span> <span class="dv">1</span>)<span class="op">/</span><span class="dv">33</span>)<span class="op">*</span><span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  passing.at[index, <span class="st">&#39;fum/a_p&#39;</span>] <span class="op">=</span> <span class="bu">round</span>((((fumap.index(passing.at[index, <span class="st">&quot;Fum/A&quot;</span>])) <span class="op">+</span> <span class="dv">1</span>)<span class="op">/</span><span class="dv">33</span>)<span class="op">*</span><span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>passing <span class="op">=</span> passing.drop(columns<span class="op">=</span>[<span class="st">&#39;Cmp%&#39;</span>, <span class="st">&#39;TD%&#39;</span>, <span class="st">&#39;Int%&#39;</span>, <span class="st">&#39;Y/A&#39;</span>, <span class="st">&#39;Y/C&#39;</span>, <span class="st">&#39;Ryd/A&#39;</span>, <span class="st">&#39;Fum/A&#39;</span>])</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(passing)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>                Player   Age   cmp_p    td_p   int_p   y/a_p  ryd/a_p  fum/a_p
0            Tom Brady  44.0   75.76   84.85   21.21   63.64    21.21    12.12
1       Justin Herbert  23.0   48.48   78.79   48.48   69.70    63.64     3.03
2     Matthew Stafford  33.0   66.67   96.97   75.76   93.94     6.06    51.52
3      Patrick Mahomes  26.0   51.52   72.73   36.36   63.64    87.88    12.12
4           Derek Carr  30.0   87.88   30.30   48.48   81.82    18.18    78.79
5           Joe Burrow  25.0  100.00   93.94   69.70  100.00    27.27    12.12
6         Dak Prescott  28.0   90.91   87.88   21.21   69.70    27.27    78.79
7           Josh Allen  25.0   30.30   72.73   54.55   27.27    96.97    12.12
8         Kirk Cousins  33.0   51.52   81.82    6.06   69.70    51.52    93.94
9        Aaron Rodgers  38.0   93.94  100.00    3.03   81.82    36.36    12.12
10           Matt Ryan  36.0   63.64   24.24   39.39   48.48    12.12    78.79
11     Jimmy Garoppolo  30.0   84.85   63.64   69.70   96.97     6.06    51.52
12           Mac Jones  23.0   78.79   54.55   57.58   57.58    21.21    51.52
13        Kyler Murray  24.0   96.97   66.67   39.39   90.91    63.64    12.12
14  Ben Roethlisberger  39.0   39.39   24.24   21.21   12.12     3.03   100.00
15      Ryan Tannehill  33.0   66.67   39.39   63.64   45.45    75.76    51.52
16     Trevor Lawrence  22.0    9.09    3.03   75.76    6.06    57.58    12.12
17        Carson Wentz  29.0   21.21   69.70    9.09   36.36    48.48    12.12
18     Taylor Heinicke  28.0   45.45   39.39   84.85   36.36    81.82    12.12
19          Jared Goff  27.0   66.67   36.36   15.15   21.21    78.79    96.97
20         Jalen Hurts  23.0   18.18   30.30   39.39   57.58    84.85    12.12
21      Russell Wilson  33.0   42.42   90.91   12.12   87.88    54.55    12.12
22   Teddy Bridgewater  29.0   60.61   54.55   15.15   51.52    39.39     3.03
23      Baker Mayfield  26.0   15.15   45.45   87.88   51.52    42.42    51.52
24       Lamar Jackson  24.0   36.36   54.55   93.94   69.70    87.88     3.03
25         Davis Mills  23.0   57.58   45.45   57.58   27.27    15.15    78.79
26      Tua Tagovailoa  23.0   81.82   45.45   63.64   27.27    27.27    51.52
27         Sam Darnold  24.0   12.12    6.06   90.91   12.12    57.58    51.52
28        Daniel Jones  24.0   33.33   18.18   33.33   24.24    63.64    12.12
30         Zach Wilson  22.0    3.03   12.12   81.82    9.09   100.00    51.52
31       Justin Fields  22.0    6.06   15.15   96.97   36.36    87.88    51.52
32         Andy Dalton  34.0   27.27   21.21  100.00   18.18    63.64    12.12
33     Jacoby Brissett  29.0   24.24    6.06   30.30    3.03    45.45    78.79
</code></pre>
</div>
</div>
<div class="cell markdown" id="aWNMmkI04gBG">
<p>Data Analysis</p>
<p>For data analysis we want to gain insights from the data that we have obtained. We want to find trends or test hypotheses using statistical tools like charts or models.</p>
<p>With the percentile columns, we are able to plot the pizza charts for each quarterback. The charts give us an easy visual way to tell how they compare to other quarterbacks, especially since the values for the metrics are based on percentile. For example, from a quick glance we can see Joe Burrow is a very strong quarterback as he almost fills the chart for metrics such as touchdown percentage and completion percentage, while having low ranks for negative metrics like fumbles per rushing attempt. On the other side, we can see Jacoby Brissett covers a low area of the pie chart for positive metrics while having a high rank for negative metrics like fumbles per rush attempt. We do not need look at multiple graphs of different players to tell how a player compares to his peers, since the area covered in the pizza chart is based on the percentile values. Thus even without looking at other players’ graphs we can make the same conclusions about players like Joe Burrow and Jacoby Brissett as mentioned earlier.</p>
<p>For help creating the pizza charts, we used the following resource: <a href="https://stackoverflow.com/questions/62938954/pie-radar-chart-in-python-pizza-slices" class="uri">https://stackoverflow.com/questions/62938954/pie-radar-chart-in-python-pizza-slices</a>.</p>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:1000,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="j-G94OueHUHK" data-outputId="06a3fb5f-ce87-4894-8b35-eaee08097481">
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>categories <span class="op">=</span> [<span class="st">&#39;Completion %&#39;</span>, <span class="st">&#39;TD %&#39;</span>, <span class="st">&#39;Int %&#39;</span>, <span class="st">&#39;Yards/Attempt&#39;</span>, <span class="st">&#39;Rush Yards/Attempt&#39;</span>, <span class="st">&#39;Fumbles/Rush Attempt&#39;</span>]</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> [<span class="st">&#39;r&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;g&#39;</span>]</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>N <span class="op">=</span> <span class="bu">len</span>(categories)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>angles <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">2</span> <span class="op">*</span> pi, N, endpoint<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>angles_mids <span class="op">=</span> angles <span class="op">+</span> (angles[<span class="dv">1</span>] <span class="op">/</span> <span class="dv">2</span>)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, row <span class="kw">in</span> passing.iterrows():</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">6</span>))</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  ax <span class="op">=</span> plt.subplot(<span class="dv">111</span>, polar<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  ax.set_theta_offset(pi <span class="op">/</span> <span class="dv">2</span>)</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  ax.set_theta_direction(<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  ax.set_xticks(angles_mids)</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  ax.set_xticklabels(categories)</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  ax.xaxis.set_minor_locator(FixedLocator(angles))</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  ax.set_rlabel_position(<span class="dv">0</span>)</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>  ax.set_yticks([<span class="dv">20</span>, <span class="dv">40</span>, <span class="dv">60</span>, <span class="dv">80</span>, <span class="dv">100</span>])</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>  ax.set_yticklabels([<span class="st">&quot;20&quot;</span>, <span class="st">&quot;40&quot;</span>, <span class="st">&quot;60&quot;</span>, <span class="st">&quot;80&quot;</span>, <span class="st">&quot;100&quot;</span>], color<span class="op">=</span><span class="st">&quot;black&quot;</span>, size<span class="op">=</span><span class="dv">8</span>)</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>  ax.set_ylim(<span class="dv">0</span>, <span class="dv">100</span>)</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  values <span class="op">=</span> [passing.at[index, <span class="st">&quot;cmp_p&quot;</span>], passing.at[index, <span class="st">&quot;td_p&quot;</span>], passing.at[index, <span class="st">&quot;int_p&quot;</span>], passing.at[index, <span class="st">&quot;y/a_p&quot;</span>], passing.at[index, <span class="st">&quot;ryd/a_p&quot;</span>], passing.at[index, <span class="st">&quot;fum/a_p&quot;</span>]]</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>  ax.bar(angles_mids, values, width<span class="op">=</span>angles[<span class="dv">1</span>] <span class="op">-</span> angles[<span class="dv">0</span>], label<span class="op">=</span>passing.at[index, <span class="st">&quot;Player&quot;</span>], facecolor<span class="op">=</span>colors[index<span class="op">%</span><span class="dv">3</span>], alpha<span class="op">=</span><span class="fl">0.7</span>, edgecolor<span class="op">=</span><span class="st">&#39;k&#39;</span>, linewidth<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>  ax.grid(<span class="va">True</span>, axis<span class="op">=</span><span class="st">&#39;x&#39;</span>, which<span class="op">=</span><span class="st">&#39;minor&#39;</span>)</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>  ax.grid(<span class="va">False</span>, axis<span class="op">=</span><span class="st">&#39;x&#39;</span>, which<span class="op">=</span><span class="st">&#39;major&#39;</span>)</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>  ax.grid(<span class="va">True</span>, axis<span class="op">=</span><span class="st">&#39;y&#39;</span>, which<span class="op">=</span><span class="st">&#39;major&#39;</span>)</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>  ax.legend(loc<span class="op">=</span><span class="st">&#39;upper left&#39;</span>, bbox_to_anchor<span class="op">=</span>(<span class="fl">0.9</span>, <span class="dv">1</span>))</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>  plt.show()</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a></span></code></pre></div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/edc529036cd40c381cf9b8839e5a2ab6c11f77a1.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/4a81050512f022997429e8f04df6718bf23513ff.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/36bb8a0c9f511d3dae4ff0dd7f89db05398b8c71.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/87f8b7e3ecd123ad8540d383d9c515cee533e098.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/64cfa3abbdaed1d6bde12481e94edca5b90b88fe.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/3433e05c153f6c7985692a84fc0bb12517eaccd2.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/594b32d7cc395c6ced46940f53796e2f7b0aa176.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/4e566ba60c36f3be2667da1ae6db20dc9c85e6e2.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/9cc4b28269ba05c097e33f06687d49f988f485af.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/96127dc30f464d7ebd106dec1b98bdeb4f5f6d49.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/6bdd07d4847c952996d8d1202dd2bb8ee9572ad2.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/fc3fa261166250a4b928e0c4848ab13cffc72062.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/6338e9ea7c0d26837599efda8166a6645be2d6d5.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/20a2581f30bca234748380be796af514278fadb2.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/a7ff99e112a1c12e44838fa980264e392fc09322.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/80ee7afe3a6c944f0706233e5a68c47dee9a1ede.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/d03b5eb9a67bd21693b44e7067eb9b0599be407a.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/69ef00a80a6b9a441f10fafb69b207c33849fb09.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/2988900495a9bf5d08cbe1c925f9ca9c0d2e425e.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/6d42441b930a11d1d24d5c02293d5e7d2290fc42.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/688f91ffeeb8ca5ebe25c0d904e14ee9932bccaf.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/f0667f7c0c90d0b8ffaccf5fe1e3c92d7ac840b3.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/61dd596c22760eb878c8524d6026362afae2b3e3.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/6a405dca68a56d0f974b7022648c3a5d05d4ff3b.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/33e85a510122c776d03d28343f5c16e5c935bc96.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/9c69936cb7169a38ae2da4c86b3bd288c00ca994.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/19c431c3e2fda22ca5fcba3b2040cf6b62e59a09.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/7bf755857f0fe4fe7e068ee49c0bdc0348d4f929.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/71b0ad3bfd04655e15e3adb312366b3b33ea3b44.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/6d46fd0fc0a7f7a78a64a39e08cd156a957f24c0.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/7ebe2d838e3ef9a16690aa67828970e3966f6aa5.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/ba0ba75c851f165d71afc0acab4eac21077001b6.png" /></p>
</div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/e24d86def11b8577f4f585364e06ef6f204ad676.png" /></p>
</div>
</div>
<div class="cell markdown" id="56ruVNBm5FL5">
<p>Hypothesis Testing</p>
<p>We continue to do some more data analysis with hypothesis testing based on age and quarterback value. We test the hypothesis that quarterback performance decreases with age, and see if there is any correlation between the age of a quarterback and their value to their team. For this we set weights for each statistic of the quarterbacks, such as rushing yards and touchdowns. We tried to weigh the most important statistics with higher coefficients. After calculating a value for each quarterback based on these coefficients, we plotted each quarterback’s age against their calculated value and put it on a scatterplot. We then ran a linear regression model. What we found is that there is little correlation. Both old and young quarterbacks were found on the low-value and high-value ends of the graph. We attempted to fit a linear regression model to the data and got a very low value for r^2: 0.0162. Thus we find the hypothesis to be false.</p>
<p>We used sklearn linear regression for this analysis, which you can learn more about at <a href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LinearRegression.html" class="uri">https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LinearRegression.html</a>.</p>
</div>
<div class="cell markdown" id="WOs77Qmb4nUu">

</div>
<div class="cell code" data-colab="{&quot;height&quot;:621,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="HB37hk00Vkhl" data-outputId="0f80e0b0-ab30-4923-9eb6-6421e7332930">
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>player_value <span class="op">=</span> []</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>player <span class="op">=</span> []</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>age <span class="op">=</span> []</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, row <span class="kw">in</span> passing.iterrows():</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  completion <span class="op">=</span> passing.at[index, <span class="st">&quot;cmp_p&quot;</span>]</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  touchdowns <span class="op">=</span> passing.at[index, <span class="st">&quot;td_p&quot;</span>]</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  interception <span class="op">=</span> passing.at[index, <span class="st">&quot;int_p&quot;</span>]</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  yards <span class="op">=</span> passing.at[index, <span class="st">&quot;y/a_p&quot;</span>]</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  rushyards <span class="op">=</span> passing.at[index, <span class="st">&quot;ryd/a_p&quot;</span>]</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  fumbles <span class="op">=</span> passing.at[index, <span class="st">&quot;fum/a_p&quot;</span>]</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  v <span class="op">=</span> <span class="fl">0.15</span><span class="op">*</span>completion <span class="op">+</span> <span class="fl">0.30</span><span class="op">*</span>touchdowns <span class="op">+</span> <span class="fl">0.20</span><span class="op">*</span>yards <span class="op">+</span> <span class="fl">0.1</span><span class="op">*</span>rushyards <span class="op">-</span> <span class="fl">0.1</span><span class="op">*</span>fumbles <span class="op">-</span> <span class="fl">0.1</span><span class="op">*</span>interception</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  player_value.append(v)</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  player.append(passing.at[index, <span class="st">&quot;Player&quot;</span>])</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>  age.append(passing.at[index, <span class="st">&quot;Age&quot;</span>])</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">20</span>,<span class="dv">10</span>))</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>plt.scatter(age, player_value)</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Qb Age&#39;</span>)</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Value&#39;</span>)</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Qb Age vs Value for 2021 NFL Regular Season&quot;</span>)</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>b, a <span class="op">=</span> np.polyfit(age, player_value, deg<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>xseq <span class="op">=</span> np.linspace(<span class="dv">20</span>, <span class="dv">45</span>, num<span class="op">=</span><span class="dv">100</span>)</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>plt.plot(xseq, a <span class="op">+</span> b <span class="op">*</span> xseq, color<span class="op">=</span><span class="st">&quot;Red&quot;</span>, lw<span class="op">=</span><span class="fl">2.5</span>)<span class="op">;</span></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, label <span class="kw">in</span> <span class="bu">enumerate</span>(player):</span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>    plt.annotate(label, (age[i], player_value[i]))</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img src="vertopal_742357ac09d447628ee2d6d50c5265cc/e260591c6a111d31489e930f59b3f3a8b6ad1b02.png" /></p>
</div>
</div>
<div class="cell code" data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="Lr6MxIl3c4lQ" data-outputId="fcb8d0cb-18bc-40ae-bc98-122285343d1d">
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>age_average <span class="op">=</span> {}</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>age_pred <span class="op">=</span> {}</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(age)):</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  x <span class="op">=</span> age[i]</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> x <span class="kw">in</span> age_average.keys():</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    age_average[x]<span class="op">=</span> age_average[x] <span class="op">+</span> <span class="bu">int</span>(player_value[i])</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span>:</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    age_average[x] <span class="op">=</span> <span class="bu">int</span>(player_value[i])</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> x <span class="kw">not</span> <span class="kw">in</span> age_pred.keys():</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    age_pred[x] <span class="op">=</span> a <span class="op">+</span> b <span class="op">*</span> x</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>actual <span class="op">=</span> []</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>pred <span class="op">=</span> []</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> age_pred.keys():</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>  pred.append(age_pred[i])</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>  actual.append(age_average[i]<span class="op">/</span>age.count(i))</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>r2 <span class="op">=</span> r2_score(actual, pred)</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Coefficient of Determination is: &quot;</span> <span class="op">+</span> <span class="bu">str</span>(r2))</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Coefficient of Determination is: 0.016181694366227628
</code></pre>
</div>
</div>
<div class="cell markdown" id="nuul_zpv5IPk">
<p>Communication of Insights</p>
<p>In communication of insights we want to show what information we have gained from our data analysis.</p>
<p>One insight we found from our data analysis is that players who cover a high area on the pizza charts (except for negative metrics) can be considered more valuable players. This makes sense as the higher percentile the players were in positive metrics, the more area they would take on the charts for those metrics. We found many of the consensus top players in the league had high areas on their charts, which matched the perception of them.</p>
<p>Another insight we found is that there is little correlation between age and value to the team for quarterbacks. We could explain this with the fact that there are many different situations for quarterbacks in relation to their ages. Older quarterbacks who still have a high value have high experience and thus can be very valuable to their team, while on the flip side other older quarterbacks could be well past their prime and starting to slow down athletically, dragging down their value to their teams. For the younger players, some of them may be inexperienced and thus have low values for their team, but are still played so that they can develop into strong players. Other young quarterbacks who are more developed are in their athletic prime and are thus in a good position to offer high value to their team. With all of these different situations, we can find old and young quarterbacks at any position in the graph, and it is hard to find a correlation between age and value. Thus we find that the hypothesis that quarterback value goes down with age is false.</p>
</div>
</body>
</html>
